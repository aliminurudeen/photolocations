{"version":3,"sources":["webpack:///./node_modules/classnames/index.js","webpack:///./client/components/Comments/EditComment.jsx","webpack:///./client/components/Comments/Comment.jsx","webpack:///./client/components/Comments/Comments.jsx","webpack:///./client/components/Locations/StarRating.jsx","webpack:///./client/components/Locations/EditLocation.jsx","webpack:///./client/components/Locations/Location.jsx","webpack:///./node_modules/react-star-rating-component/index.js"],"names":["__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","undefined","EditComment","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","state","comment","error","getComment","bind","_assertThisInitialized","editComment","React","Component","e","setState","target","value","substr","_this2","id","updateComment","catch","err","message","_this$props","t","i18n","react_default","a","createElement","className","onSubmit","rows","cols","onChange","withNamespaces","connect","dispatch","Comment","_React$Component","Comment_classCallCheck","Comment_possibleConstructorReturn","Comment_getPrototypeOf","isHidden","editIsHidden","deleteComment","Comment_assertThisInitialized","toggleHidden","handleChange","Comment_inherits","Comment_createClass","delComment","then","date","Date","concat","year","getFullYear","month","getMonth","publishDate","getDate","user","onClick","Comments_EditComment","Comments","Comments_classCallCheck","Comments_possibleConstructorReturn","Comments_getPrototypeOf","Comments_assertThisInitialized","addNewComment","reloadComments","getAllComments","preventDefault","datetime","getHours","getMinutes","getSeconds","newComment","location_id","user_id","addComment","document","getElementById","newComments","_this3","placeholder","type","map","Comments_Comment","full_name","receiveComments","StarRating","StarRating_classCallCheck","StarRating_possibleConstructorReturn","StarRating_getPrototypeOf","userRating","avgRating","average","swapRating","StarRating_assertThisInitialized","onStarClick","getAvgRating","getUserAvgRating","getAllRatingsForLocation","ratings","getAllUserRatingsForLocation","rating","nextValue","prevValue","name","_this4","_this$props2","react_star_rating_component_default","editing","starCount","receiveLocationRatings","receiveUserLocationRatings","location","EditLocation","EditLocation_classCallCheck","EditLocation_possibleConstructorReturn","EditLocation_getPrototypeOf","lat","lng","title","info","description","carparking","convenience","views","ratingId","EditLocation_assertThisInitialized","submitLocation","_e$target","_defineProperty","updatedLocation","editLocation","loadLocation","console","log","htmlFor","defaultValue","ReactGA","initialize","pageview","window","pathname","search","customStyles","content","top","left","right","bottom","marginRight","transform","backgroundColor","Location","Location_classCallCheck","Location_possibleConstructorReturn","Location_getPrototypeOf","modalIsOpen","userRatings","openModal","Location_assertThisInitialized","closeModal","match","params","locationid","getLocation","src","url","alt","Locations_StarRating","components_Comments_Comments","lib_default","isOpen","onAfterOpen","afterOpenModal","onRequestClose","style","contentLabel","ariaHideApp","Locations_EditLocation","receiveLocation","Object","defineProperty","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","__webpack_require__","_react2","_interopRequireDefault","_propTypes2","_classnames2","obj","__esModule","StarRatingComponent","_Component","instance","TypeError","self","ReferenceError","__proto__","getPrototypeOf","subClass","superClass","create","constructor","setPrototypeOf","_inherits","nextProps","inputValue","_props","index","stopPropagation","_props2","_props3","onStarHover","_props4","onStarHoverOut","_props5","starColor","emptyStarColor","radioStyles","display","position","marginLeft","starNodes","_loop","starNodeInput","checked","starNodeLabel","float","cursor","color","starStyles","onMouseOver","onMouseLeave","renderIcon","_props6","renderStarIcon","renderStarIconHalf","Math","ceil","fontStyle","_props7","dv-star-rating-non-editable","renderStars","propTypes","string","isRequired","number","bool","func","defaultProps"],"mappings":"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","file":"6.bundle.js","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { updateComment } from '../../actions/comments'\r\nimport i18n from 'i18next'\r\nimport { withNamespaces } from 'react-i18next'\r\n\r\nclass EditComment extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      comment: this.props.comment,\r\n      error: null\r\n    }\r\n    this.getComment = this.getComment.bind(this)\r\n    this.editComment = this.editComment.bind(this)\r\n  }\r\n\r\n  getComment(e) {\r\n    this.setState({\r\n      comment: e.target.value.substr(0, 50)\r\n    })\r\n  }\r\n\r\n  editComment() {\r\n    this.setState({\r\n      error: null\r\n    })\r\n    const comment = {\r\n      comment: this.state.comment,\r\n      id: this.props.id\r\n    }\r\n    this.props.updateComment(comment)\r\n      .catch(err => this.setState({ error: err.message }))\r\n  }\r\n\r\n  render() {\r\n    let { t, i18n } = this.props\r\n    return (\r\n      <form className=\"editComment\" onSubmit={this.editComment} >\r\n        <textarea id=\"editComment\" rows=\"4\" cols=\"100\" value={this.state.comment} onChange={this.getComment}></textarea><br />\r\n        <button className='button' id=\"cancelButton\">{t('editComment.cancel')}</button>\r\n        <button className='button' id=\"button\">{t('editComment.submit')}</button>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    updateComment: (comment) => {\r\n      return dispatch(updateComment(comment))\r\n    }\r\n  }\r\n}\r\n\r\nexport default withNamespaces('strings')(connect(null, mapDispatchToProps)(EditComment))","import React from 'react'\r\nimport EditComment from './EditComment'\r\nimport { delComment } from '../../actions/comments'\r\nimport { connect } from 'react-redux'\r\nimport i18n from 'i18next'\r\nimport { withNamespaces } from 'react-i18next'\r\n\r\nexport class Comment extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isHidden: false,\r\n      editIsHidden: true,\r\n      error: null,\r\n      comment: this.props.comment\r\n    }\r\n    this.deleteComment = this.deleteComment.bind(this)\r\n    this.toggleHidden = this.toggleHidden.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n  }\r\n\r\n  toggleHidden() {\r\n    this.setState({\r\n      isHidden: !this.state.isHidden,\r\n      editIsHidden: !this.state.editIsHidden\r\n    })\r\n  }\r\n\r\n  handleChange() {\r\n    this.setState({\r\n      isHidden: true\r\n    })\r\n  }\r\n\r\n  deleteComment() {\r\n    this.setState({ error: null })\r\n    const id = this.props.id\r\n    this.props.delComment(id)\r\n      .then(() => {\r\n        this.props.onChange()\r\n      })\r\n      .catch(err => this.setState({ error: err.message }))\r\n  }\r\n\r\n  render() {\r\n    let date = new Date(`${this.props.date}`)\r\n    let year = date.getFullYear()\r\n    let month = date.getMonth() + 1\r\n    let day = date.getDate()\r\n    let publishDate = day + '/' + month + '/' + year\r\n    let { t, i18n } = this.props\r\n    return (\r\n      <div className='comment'>\r\n        {!this.state.isHidden && <div className=\"commentInput\">\r\n          <p className='comment-user'>{this.props.user} {t('comment.wrote')} {publishDate}:</p>\r\n          <p className='comment-content'>{this.props.comment}</p>\r\n        </div>}\r\n        {!this.state.isHidden && <div className=\"commentButtons\">\r\n          <button className='comment-button' id=\"updateButton\" onClick={this.toggleHidden}>{t('comment.update')}</button>\r\n          <button className='comment-button' id=\"deleteButton\" onClick={this.deleteComment}>{t('comment.delete')}</button>\r\n        </div>}\r\n        {!this.state.editIsHidden && <EditComment comment={this.props.comment} id={this.props.id} onChange={this.handleChange} />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    delComment: (id) => {\r\n      return dispatch(delComment(id))\r\n    }\r\n  }\r\n}\r\n\r\nexport default withNamespaces('strings')(connect(null, mapDispatchToProps)(Comment))","import React from 'react'\r\nimport Comment from './Comment'\r\nimport { getAllComments, addComment } from '../../actions/comments'\r\nimport { connect } from 'react-redux'\r\nimport i18n from 'i18next'\r\nimport { withNamespaces } from 'react-i18next'\r\n\r\nclass Comments extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      comment: '',\r\n      id: null,\r\n      isHidden: true,\r\n      error: null\r\n    }\r\n    this.updateComment = this.updateComment.bind(this)\r\n    this.addNewComment = this.addNewComment.bind(this)\r\n    this.reloadComments = this.reloadComments.bind(this)\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.reloadComments()\r\n  }\r\n\r\n  reloadComments () {\r\n    const id = this.props.id\r\n    this.props.getAllComments(id)\r\n  }\r\n\r\n  addNewComment(e){\r\n    e.preventDefault()\r\n    this.setState({error: null})\r\n    let datetime = new Date()\r\n    let date = datetime.getFullYear()+'-'+(datetime.getMonth()+1)+'-'+datetime.getDate()+' '+datetime.getHours()+':'+datetime.getMinutes()+':'+datetime.getSeconds();\r\n    const newComment = {\r\n      comment: this.state.comment,\r\n      location_id: this.props.id,\r\n      user_id: 1,\r\n      date: date\r\n    }\r\n    this.props.addComment(newComment)\r\n      .then(() => {\r\n        this.setState({comment: ''})\r\n      })\r\n      .then(() => {\r\n        this.reloadComments()\r\n      })\r\n      .catch(err => this.setState({error: err.message}))\r\n  }\r\n\r\n  updateComment(e) {\r\n    this.setState({\r\n      comment: document.getElementById(\"addNewComment\").value.substr(0, 300),\r\n      newComments: this.props.newComments\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    let { t, i18n } = this.props\r\n    \r\n    return (\r\n      <div className=\"comments\">\r\n        <h2>{t('comments.comments')}</h2>\r\n        <form className=\"addCommentForm\" onSubmit={this.addNewComment}>\r\n          <textarea id=\"addNewComment\" placeholder=\"Have you been here? What was your experience?\" rows=\"4\" cols=\"100\" value={this.state.comment} onChange={this.updateComment}></textarea><br />\r\n          <input type=\"submit\" className='button' id=\"addCommentButton\" value = {t('comments.add')} />\r\n        </form>\r\n        <ul>\r\n          {this.props.newComments && this.props.newComments.length > 0 && \r\n            this.props.newComments.map(comment => {\r\n            return <li key={comment.id}>\r\n              <Comment comment={comment.comment} date={comment.date} user={comment.full_name} id={comment.id} onChange={this.reloadComments} />\r\n            </li>\r\n          })}\r\n        </ul>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    newComments: state.receiveComments\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    getAllComments: (id) => {\r\n      return dispatch(getAllComments(id))\r\n    },\r\n    addComment: (newComment) => {\r\n      return dispatch(addComment(newComment))\r\n    }\r\n  }\r\n}\r\n\r\nexport default withNamespaces('strings')(connect(mapStateToProps, mapDispatchToProps)(Comments))","import React from 'react'\r\nimport StarRatingComponent from 'react-star-rating-component'\r\nimport { connect } from 'react-redux'\r\nimport { getAllRatingsForLocation, getAllUserRatingsForLocation } from '../../actions/ratings'\r\nimport { withNamespaces } from 'react-i18next'\r\nimport i18n from 'i18next'\r\n\r\nclass StarRating extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      userRating: 0,\r\n      avgRating: 0,\r\n      average: true\r\n    }\r\n    this.swapRating = this.swapRating.bind(this)\r\n    this.onStarClick = this.onStarClick.bind(this)\r\n    this.getAvgRating = this.getAvgRating.bind(this)\r\n    this.getUserAvgRating = this.getUserAvgRating.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getAvgRating()\r\n    this.getUserAvgRating()\r\n  }\r\n\r\n  getAvgRating(){\r\n    const id = this.props.id\r\n    this.props.getAllRatingsForLocation(id)\r\n      .then(ratings => {\r\n        this.setState({\r\n          avgRating: ratings\r\n        })\r\n    })\r\n  }\r\n\r\n  getUserAvgRating() {\r\n    const id  = this.props.id\r\n    const user = '1'\r\n    this.props.getAllUserRatingsForLocation(id, user)\r\n      .then(ratings => {\r\n        this.setState({\r\n          userRating: ratings\r\n        })\r\n      })\r\n  }\r\n\r\n  swapRating(rating){\r\n    this.setState({\r\n      average: rating\r\n    })\r\n  }\r\n\r\n  onStarClick(nextValue, prevValue, name) {\r\n    this.setState({\r\n      userRating: nextValue\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let {userRating, ratings} = this.props\r\n    let { t, i18n } = this.props\r\n    return (\r\n     <div>\r\n      {this.state.average==false && <StarRatingComponent\r\n        name='userRating'\r\n        editing={true}\r\n        starCount={5}\r\n        value={userRating}\r\n        onStarClick={this.onStarClick}\r\n      />}\r\n      {this.state.average && <StarRatingComponent\r\n        name='avgRating'\r\n        editing={false}\r\n        starCount={5}\r\n        value={ratings}\r\n        onStarClick={this.onStarClick}\r\n      />}\r\n      <p>\r\n        <button className='rating-button' onClick={()=>this.swapRating(true)}>{t('starrating.avgrating')}</button> | <button className='rating-button' onClick={()=>this.swapRating(false)}>{t('starrating.rating')}</button>\r\n      </p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ratings: state.receiveLocationRatings,\r\n    userRating: state.receiveUserLocationRatings\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    getAllRatingsForLocation: (id) => {\r\n      return dispatch(getAllRatingsForLocation(id))\r\n    },\r\n    getAllUserRatingsForLocation: (location, user) => {\r\n      return dispatch(getAllUserRatingsForLocation(location, user))\r\n    }\r\n  }\r\n}\r\n\r\nexport default withNamespaces('strings')(connect(mapStateToProps, mapDispatchToProps)(StarRating))","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { editLocation } from '../../actions/locations'\r\nimport StarRatingComponent from 'react-star-rating-component'\r\nimport i18n from 'i18next'\r\nimport { withNamespaces } from 'react-i18next'\r\n\r\nclass EditLocation extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      location: this.props.location,\r\n      lat: this.props.location.lat,\r\n      lng: this.props.location.lng,\r\n      title: this.props.location.title,\r\n      info: this.props.location.info,\r\n      description: this.props.location.description,\r\n      id: this.props.id,\r\n      carparking: null,\r\n      convenience: null,\r\n      views: null,\r\n      ratingId: null\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.submitLocation = this.submitLocation.bind(this)\r\n    this.onStarClick = this.onStarClick.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.setState({\r\n    //   carparking: this.props.userRatings.carparking,\r\n    //   convenience: this.props.userRatings.convenience,\r\n    //   views: this.props.userRatings.views,\r\n    //   ratingId: this.props.userRatings.id\r\n    // })\r\n  }\r\n\r\n  handleChange(e) {\r\n    const { name, value } = e.target\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  submitLocation() {\r\n    let lat, lng, title, info, description, carparking, convenience, views, ratingId\r\n    let id = this.state.location.id\r\n    if (this.state.lat === undefined) {\r\n      lat = this.state.location.lat\r\n    } else { lat = this.state.lat }\r\n    if (this.state.lng === undefined) {\r\n      lng = this.state.location.lng\r\n    } else { lng = this.state.lng }\r\n    if (this.state.title === undefined) {\r\n      title = this.state.location.title\r\n    } else { title = this.state.title }\r\n    if (this.state.info !== undefined) {\r\n      info = this.state.info\r\n    } else { info = this.state.location.info }\r\n    if (this.state.description === undefined) {\r\n      description = this.state.location.description\r\n    } else { description = this.state.description }\r\n    if (this.state.carparking === undefined) {\r\n      carparking = null\r\n    } else { carparking = this.state.carparking }\r\n    if (this.state.convenience === undefined) {\r\n      convenience = null\r\n    } else { convenience = this.state.convenience }\r\n    if (this.state.views === undefined) {\r\n      views = null\r\n    } else { views = this.state.views}\r\n    if (this.state.ratingId === undefined) {\r\n      ratingId = null\r\n    } else { ratingId = this.state.ratingId}\r\n    let user = 2\r\n\r\n    const updatedLocation = {\r\n      id: id,\r\n      lat: lat,\r\n      lng: lng,\r\n      title: title,\r\n      info: info,\r\n      description: description,\r\n      carparking: carparking,\r\n      convenience: convenience,\r\n      views: views,\r\n      user: user,\r\n      ratingId: ratingId\r\n    }\r\n    this.props.editLocation(updatedLocation)\r\n      .then(() => {\r\n        this.props.loadLocation(this.props.id)\r\n      })\r\n      .then(this.props.onClick) \r\n  }\r\n\r\n  onStarClick(nextValue, prevValue, name) {\r\n    console.log(name)\r\n    this.setState({\r\n      [name]: nextValue\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let { t, i18n } = this.props\r\n    return (\r\n      <form>\r\n        <fieldset className>\r\n          <h1>{t('editLocation.edit_header')}</h1>\r\n          <div className='row'>\r\n            <div className='col-6'>\r\n              <p name='lat'>{t('editLocation.latitude')} {this.props.location.lat}</p>\r\n            </div>\r\n            <div className='col-6'>\r\n              <p name='lng'>{t('editLocation.longitude')} {this.props.location.lng} </p>\r\n            </div>\r\n          </div>\r\n          <label htmlFor='title'>{t('editLocation.place')} </label><br />\r\n          <input type='text' name='title' defaultValue={this.props.location.title} id='name' onChange={this.handleChange} /><br />\r\n          <label htmlFor='info'>{t('editLocation.title')} </label><br />\r\n          <input type='text' name='info' defaultValue={this.props.location.info} id='title' onChange={this.handleChange} /><br />\r\n          <label htmlFor='description'>{t('editLocation.description')} </label><br />\r\n          <textarea rows='4' cols='100' name='description' defaultValue={this.props.location.description} id='description' onChange={this.handleChange}></textarea><br />\r\n          <div className='row update-star-rating'>\r\n            {/* <div className='col-3'>\r\n            Carparking\r\n              <StarRatingComponent \r\n                name='carparking'\r\n                editing={true}\r\n                starCount={5}\r\n                value={this.state.carparking}\r\n                onStarClick={this.onStarClick}\r\n              />\r\n            </div>\r\n            <div className='col-3'>\r\n                Convenience\r\n                <StarRatingComponent \r\n                name='convenience'\r\n                editing={true}\r\n                starCount={5}\r\n                value={this.state.convenience}\r\n                onStarClick={this.onStarClick}\r\n              />\r\n            </div>\r\n            <div className='col-3'>\r\n                Views <br/>\r\n                <StarRatingComponent \r\n                name='views'\r\n                editing={true}\r\n                starCount={5}\r\n                value={this.state.views}\r\n                onStarClick={this.onStarClick}\r\n              />\r\n            </div> */}\r\n          </div>\r\n          \r\n          <button type='button' className='button' onClick={this.submitLocation}>{t('editLocation.submit')}</button>\r\n          <button type='button' className='button' onClick={this.props.onClick}>{t('editLocation.cancel')}</button>\r\n        </fieldset>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    editLocation: (location) => {\r\n      return dispatch(editLocation(location))\r\n    }\r\n  }\r\n}\r\n\r\nexport default withNamespaces('strings')(connect(null, mapDispatchToProps)(EditLocation))","import React from 'react'\r\nimport Comments from '../Comments/Comments'\r\nimport { connect } from 'react-redux'\r\nimport Modal from 'react-modal'\r\nimport StarRating from './StarRating'\r\nimport EditLocation from './EditLocation'\r\nimport { getLocation, editLocation } from '../../actions/locations'\r\n// import { getUserRatingsForLocation } from '../../actions/ratings'\r\nimport ReactGA from 'react-ga'\r\nimport i18n from 'i18next'\r\nimport { withNamespaces } from 'react-i18next'\r\n\r\nReactGA.initialize('UA-124825499-1')\r\nReactGA.pageview(window.location.pathname + window.location.search)\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    backgroundColor: '#1f1e1e'\r\n  }\r\n}\r\n\r\nclass Location extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      location: this.props.location,\r\n      modalIsOpen: false,\r\n      userRatings: this.props.userRatings\r\n    }\r\n    this.openModal = this.openModal.bind(this)\r\n    this.closeModal = this.closeModal.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id\r\n    const user = 2\r\n    this.loadLocation(this.state.location)\r\n    // this.props.getUserRatingsForLocation(id, user)\r\n  }\r\n\r\n  loadLocation(locationid) {\r\n    const id = this.props.match.params.id || locationid\r\n    this.props.getLocation(id)\r\n      .then(location => {\r\n        this.setState({\r\n          location: location\r\n        })\r\n      })\r\n  }\r\n\r\n  openModal() {\r\n    this.setState({\r\n      location: this.props.location,\r\n      lat: this.props.lat,\r\n      userRatings: this.props.userRatings,\r\n      modalIsOpen: true\r\n    })\r\n  }\r\n\r\n  closeModal() {\r\n    this.setState({\r\n      modalIsOpen: false\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const id = this.props.match.params.id\r\n    let { t, i18n } = this.props\r\n    return (\r\n      <div className='location row'>\r\n        <div className='col-8'>\r\n          <img src={this.props.location.url} alt={this.props.location.title} />\r\n        </div>\r\n        <div className='col-4 locationRight'>\r\n          <div className='locationText'>\r\n            <h1>{this.props.location.title}</h1>\r\n            <button className='comment-button' onClick={this.openModal}>{t('location.edit')}</button>\r\n            <StarRating id={id} />\r\n            <p className='location-content'>\r\n              {this.props.location.info}\r\n            </p>\r\n            <p className='location-content'>\r\n              {this.props.location.description}\r\n            </p>\r\n            <Comments id={this.props.match.params.id} />\r\n          </div>\r\n        </div>\r\n        <Modal\r\n          isOpen={this.state.modalIsOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.closeModal}\r\n          style={customStyles}\r\n          contentLabel='Edit location'\r\n          ariaHideApp={false}\r\n        >\r\n          <div className='editLocation'>\r\n            {this.props.location && <EditLocation location={this.props.location} userRatings={this.props.userRatings} onClick={this.closeModal} id={id} loadLocation={()=>this.loadLocation(id)} />}\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    location: state.receiveLocation,\r\n    // userRatings: state.receiveUserRatingsForLocation\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    getLocation: (id) => {\r\n      return dispatch(getLocation(id))\r\n    },\r\n    editLocation: (location) => {\r\n      return dispatch(editLocation(location))\r\n    },\r\n    // getUserRatingsForLocation: (id, user) => {\r\n    //   return dispatch(getUserRatingsForLocation(id, user))\r\n    // }\r\n  }\r\n}\r\n\r\nexport default withNamespaces('strings')(connect(mapStateToProps, mapDispatchToProps)(Location))","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar StarRatingComponent = function (_Component) {\n  _inherits(StarRatingComponent, _Component);\n\n  function StarRatingComponent(props) {\n    _classCallCheck(this, StarRatingComponent);\n\n    var _this = _possibleConstructorReturn(this, (StarRatingComponent.__proto__ || Object.getPrototypeOf(StarRatingComponent)).call(this));\n\n    _this.state = {\n      value: props.value\n    };\n    return _this;\n  }\n\n  _createClass(StarRatingComponent, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var value = nextProps.value;\n\n\n      if (value != null && value !== this.state.value) {\n        this.setState({ value: value });\n      }\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(inputValue) {\n      var _props = this.props,\n          editing = _props.editing,\n          value = _props.value;\n\n\n      if (!editing) {\n        return;\n      }\n\n      // do not update internal state based on input value if prop passed\n      if (value != null) {\n        return;\n      }\n\n      this.setState({ value: inputValue });\n    }\n  }, {\n    key: 'onStarClick',\n    value: function onStarClick(index, value, name, e) {\n      e.stopPropagation();\n\n      var _props2 = this.props,\n          onStarClick = _props2.onStarClick,\n          editing = _props2.editing;\n\n\n      if (!editing) {\n        return;\n      }\n\n      onStarClick && onStarClick(index, value, name, e);\n    }\n  }, {\n    key: 'onStarHover',\n    value: function onStarHover(index, value, name, e) {\n      e.stopPropagation();\n\n      var _props3 = this.props,\n          onStarHover = _props3.onStarHover,\n          editing = _props3.editing;\n\n\n      if (!editing) {\n        return;\n      }\n\n      onStarHover && onStarHover(index, value, name, e);\n    }\n  }, {\n    key: 'onStarHoverOut',\n    value: function onStarHoverOut(index, value, name, e) {\n      e.stopPropagation();\n\n      var _props4 = this.props,\n          onStarHoverOut = _props4.onStarHoverOut,\n          editing = _props4.editing;\n\n\n      if (!editing) {\n        return;\n      }\n\n      onStarHoverOut && onStarHoverOut(index, value, name, e);\n    }\n  }, {\n    key: 'renderStars',\n    value: function renderStars() {\n      var _this2 = this;\n\n      var _props5 = this.props,\n          name = _props5.name,\n          starCount = _props5.starCount,\n          starColor = _props5.starColor,\n          emptyStarColor = _props5.emptyStarColor,\n          editing = _props5.editing;\n      var value = this.state.value;\n\n\n      var starStyles = function starStyles(i, value) {\n        return {\n          float: 'right',\n          cursor: editing ? 'pointer' : 'default',\n          color: value >= i ? starColor : emptyStarColor\n        };\n      };\n      var radioStyles = {\n        display: 'none',\n        position: 'absolute',\n        marginLeft: -9999\n      };\n\n      // populate stars\n      var starNodes = [];\n\n      var _loop = function _loop(i) {\n        var id = name + '_' + i;\n        var starNodeInput = _react2.default.createElement('input', {\n          key: 'input_' + id,\n          style: radioStyles,\n          className: 'dv-star-rating-input',\n          type: 'radio',\n          name: name,\n          id: id,\n          value: i,\n          checked: value === i,\n          onChange: _this2.onChange.bind(_this2, i, name)\n        });\n        var starNodeLabel = _react2.default.createElement(\n          'label',\n          {\n            key: 'label_' + id,\n            style: starStyles(i, value),\n            className: 'dv-star-rating-star ' + (value >= i ? 'dv-star-rating-full-star' : 'dv-star-rating-empty-star'),\n            htmlFor: id,\n            onClick: function onClick(e) {\n              return _this2.onStarClick(i, value, name, e);\n            },\n            onMouseOver: function onMouseOver(e) {\n              return _this2.onStarHover(i, value, name, e);\n            },\n            onMouseLeave: function onMouseLeave(e) {\n              return _this2.onStarHoverOut(i, value, name, e);\n            }\n          },\n          _this2.renderIcon(i, value, name, id)\n        );\n\n        starNodes.push(starNodeInput);\n        starNodes.push(starNodeLabel);\n      };\n\n      for (var i = starCount; i > 0; i--) {\n        _loop(i);\n      }\n\n      return starNodes.length ? starNodes : null;\n    }\n  }, {\n    key: 'renderIcon',\n    value: function renderIcon(index, value, name, id) {\n      var _props6 = this.props,\n          renderStarIcon = _props6.renderStarIcon,\n          renderStarIconHalf = _props6.renderStarIconHalf;\n\n\n      if (typeof renderStarIconHalf === 'function' && Math.ceil(value) === index && value % 1 !== 0) {\n        return renderStarIconHalf(index, value, name, id);\n      }\n\n      if (typeof renderStarIcon === 'function') {\n        return renderStarIcon(index, value, name, id);\n      }\n\n      return _react2.default.createElement(\n        'i',\n        { key: 'icon_' + id, style: { fontStyle: 'normal' } },\n        '\\u2605'\n      );\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props7 = this.props,\n          editing = _props7.editing,\n          className = _props7.className;\n\n      var classes = (0, _classnames2.default)('dv-star-rating', {\n        'dv-star-rating-non-editable': !editing\n      }, className);\n\n      return _react2.default.createElement(\n        'div',\n        { style: { display: 'inline-block', position: 'relative' }, className: classes },\n        this.renderStars()\n      );\n    }\n  }]);\n\n  return StarRatingComponent;\n}(_react.Component);\n\nStarRatingComponent.propTypes = {\n  name: _propTypes2.default.string.isRequired,\n  value: _propTypes2.default.number,\n  editing: _propTypes2.default.bool,\n  starCount: _propTypes2.default.number,\n  starColor: _propTypes2.default.string,\n  onStarClick: _propTypes2.default.func,\n  onStarHover: _propTypes2.default.func,\n  onStarHoverOut: _propTypes2.default.func,\n  renderStarIcon: _propTypes2.default.func,\n  renderStarIconHalf: _propTypes2.default.func\n};\nStarRatingComponent.defaultProps = {\n  starCount: 5,\n  editing: true,\n  starColor: '#ffb400',\n  emptyStarColor: '#333'\n};\nexports.default = StarRatingComponent;\nmodule.exports = exports['default'];\n"],"sourceRoot":""}